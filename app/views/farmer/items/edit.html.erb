<% if @item.errors.any? %>
  <div class="alert alert-danger">
  <h4>error</h4>
    <ul>
      <% @item.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="container-fluid">
 <div class="row">
  <div class="col-md-8 offset-md-2 mt-5">
   <h1 class="mt-5 mb-5">商品情報を編集</h1>
  </div>
 </div>

  <%= form_with model:@item, url: farmer_item_path(@item), html: { multipart: true } do |f| %>
   <div class="row">
    <div class="field mb-3 col-md-2 offset-md-2 mt-3">
     <%=f.label :name, "商品" %>
    </div>
    <div class="field mb-3 col-md-8 mt-3">
     <%= f.text_field :name, class: "form-control", style: "width: 450px;" %>
    </div>
    <div class="field mb-3 col-md-2 offset-md-2 mt-3">
     <%=f.label :images, "画像" %>
    </div>
    <div class="field mb-3 col-md-8 mt-3">
     <%= f.file_field :images, multiple:true, class: "form-control-file" %>
    </div>
    <div class="field mb-3 col-md-2 offset-md-2 mt-3">
    <%= f.label :introduction, "説明" %>
    </div>
    <div class="field mb-3 col-md-8 mt-3">
     <%= f.text_area :introduction, class: "form-control", style: "width: 450px;" %>
    </div>
    <div class="field mb-3 col-md-2 offset-md-2 mt-3">
     <%= f.label :price, "税込価格" %>
    </div>
    <div class="field mb-3 col-md-8 mt-3">
     <%= f.number_field :price, min: 0, step: 1, class: "form-control", style: "width: 450px;" %>
    </div>
    <div class="field mb-3 col-md-2 offset-md-2 mt-3">
     <%= f.label :harvest_time, "収穫時期" %>
    </div>
    <div class="field mb-3 col-md-8 mt-3">
    <%= f.text_area :harvest_time, class: "form-control", style: "width: 450px;" %>
    </div>
    <div class="field mb-3 col-md-8 offset-md-4 mt-3">
     <% Item.statuses.each_key do |key| %>
      <%= f.radio_button :status, key,checked: @item.status == key %>
      <%= f.label :"status_#{key}", I18n.t("activerecord.attributes.item.statuses.#{key}")%>
     <% end %>
    </div>
  
     <div class="actions d-flex justify-content-center col-md-8 offset-md-2 mt-5">
      <%= f.submit "更新", class: "btn btn-outline-secondary", style: "width: 90px;" %>
      <%= link_to "戻る", farmer_item_path(@item), class: "ml-3 btn btn-outline-secondary", style: "width: 90px;" %>
     </div>
  </div>
  <% end %>
 </div>
</div>