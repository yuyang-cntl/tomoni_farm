<% if flash[:notice] %>
 <div class="alert alert-success">
  <%= flash[:notice] %>
 </div>
<% end %>

<div class="container-fluid">
 <div class="row align-items-start">
  <div class="col-md-10 offset-2 mt-5">
   <h1 class="mt-5">会員一覧</h1>
   <div class="row customer-list">
    <% @customers.each do |customer| %>
    <div class="customer-card mt-5 col-md-5">
     <h3><%= customer.name %></h3>
     <span class="<%= customer.account_status_badge_class %>">
     <%= customer.account_status_i18n %>
     </span>
     <div class="mt-3 mb-3">
      <% if customer.profile_image.attached? && customer.profile_image.variable? %>
       <%= image_tag customer.profile_image.variant(resize_to_limit: [150,150]), class: "customer-image" %>
      <% else %>
       <%= image_tag(customer.get_profile_image(150, 150), alt: "Customer image", class: "profile-image") %>
      <% end %>
     <%= link_to '会員詳細', farmer_customer_path(customer), class: "ml-5 btn btn-outline-secondary", style: "width: 120px;" %>
     </div>
    </div>
    <% end %>
   </div>
  </div>
  <div class="d-flex justify-content-center mt-3 col-md-8 offset-md-2">
   <%= link_to "戻る", farmer_root_path, class: "btn btn-outline-secondary", style: "width: 90px;" %>
  </div>
 </div>
</div>